# DP 201 - Designing an Azure Data Platform Solution.
# Lab 3 - Azure Real-Time Reference Architectures.

**Estimated Time**: 60 minutes

**Pre-requisites**: It is assumed that the case study for this lab has already been read.

**Lab files**: The files for this lab are located in the [Lab 3 Folder](/Labfiles/Starter/DP-201.3/).

## Legend  
👩‍🏫 = Whiteboard Activity  
📄 = Complete a Document Activity

## Lab overview

The students will use the case study to identify which business and technical requirements relate to a Lambda architecture from a real-time perspective. The student will then architect a streaming pipeline with Azure Stream Analytics and Azure Databricks. Finally, the students will attempt to design an IoT architecture as it relates to the meeting of the AdventureWorks business requirements.

## Lab objectives
  
After completing this lab, you will be able to:

1. Architect a stream processing pipeline with Azure Stream Analytics
1. Design a stream processing pipeline with Azure Databricks.
1. Create an Azure IoT reference architecture

## Scenario
  
You are the senior data engineer of AdventureWorks. You are designing and architecting a solution that will deal with the real-time processing of data. You have been advised that the solution architecture should take a holistic view of all the business requirements and your proposal should be presented in a Word document.

You will first identify which AdventureWorks requirements fits into real-time processing of a Lambda architecture. You will then provide an architecture for a stream processing pipeline with Azure Stream Analytics and Azure Databricks. You will also design a first pass on an IoT architecture.

At the end of this lab, you will have:

1. Architect a stream processing pipeline with Azure Stream Analytics.
1. Design a stream processing pipeline with Azure Databricks.
1. Create an Azure IoT reference architecture.

>**Resources**: As well as the using the course case study for this lab, you use also use resources such a [Microsoft Documentation](https://docs.microsoft.com), the [Azure Reference Architecture Site](https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/) and the [Microsoft Customer Stories Site](https://customers.microsoft.com/) to help inform you in answering questions in this lab.

## Exercise 1: Architect a stream processing pipeline with Azure Stream Analytics.

**Group exercise**
  
1. From the case study, identify the requirements that would form part of the real-time processing of data in AdventureWorks.

1. Build a high level Architecture that reflects a stream processing pipeline with Azure Stream Analytics.

### Task 1: 📄 List real-time processing requirements for AdventureWorks
1. From your machine, open up the file [DP-201-Lab03_Ex01_Ta01.docx](../Labfiles/Starter/DP-201.3/DP-201-Lab03_Ex01_Ta01.docx)


1. As a group, spend **15 minutes** discussing and listing the requirements that would form part of a real-time solution in AdventureWorks. Evidence should be provided from the case study.

> **Result**: After you completed this exercise, you have created a Microsoft Word document that shows a table real time processing requirements for AdventureWorks.

### Task 2: 👩‍🏫 Build a high level architecture that reflects a stream processing pipeline with Azure Stream Analytics.

1. Go to the whiteboard
   
2. As a group, spend **20 minutes** discussing and diagraming the architectures that would form part of the Enterprise BI solution in AdventureWorks. You can use the png files in the icon folder to build your architecture.

> **Result**: After you completed this exercise, you have created architectures that would form part of the Enterprise BI solution in AdventureWorks.

## Exercise 2: Design a stream processing pipeline with Azure Databricks.

**Group exercise**
  
1. Create a high level Architecture to include a stream processing pipeline with Azure Databricks solution in AdventureWorks.

### Task 1: 👩‍🏫 Create a high level architecture to include a stream processing pipeline with Azure Databricks solution in AdventureWorks.

1. Go to the whiteboard

1. As a group, spend **15 minutes** creating an architecture that meets the requirements of the predictive maintenance of bicycles.

> **Result**: After you completed this exercise, you have created a stream processing pipeline with Azure Databricks solution in AdventureWorks.

## Exercise 3: Create an Azure IoT reference architecture.

**Group exercise**
  
1. Confirming which architecture created would form part of an Azure IoT reference architecture.

### Task 1: 👩‍🏫 Create an Azure IoT reference architecture.

1. As a group, spend **5 minutes** discussing and confirming which architecture that you have created so far that would form part of an Azure IoT reference architecture.

> **Result**: After you completed this exercise, you have created an architecture to include an Azure IoT reference architecture in Azure.

## Lab Review

After approximately 60 minutes, the instructor will bring a close to this lab. The class will discuss the findings of each group.